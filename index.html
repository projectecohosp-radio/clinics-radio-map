<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Geospatial Health Broadcast</title>

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
    }

    .top-bar {
      padding: 10px 14px;
      background: #ffffff;
      border-bottom: 1px solid #ddd;
    }

    .top-bar h1 {
      margin: 0;
      font-size: 18px;
      color: #16325c;
    }

    .top-bar p {
      margin: 4px 0 0;
      font-size: 13px;
      color: #555;
    }

    #map {
      width: 100%;
      height: calc(100% - 60px);
    }
  </style>

  <!-- ✅ MapmyIndia JavaScript SDK (India-compliant map) -->
  <script src="https://apis.mapmyindia.com/advancedmaps/v1/d5e4f2a0e993e99f66f292fe796c6769/map_load?v=1.5"></script>
</head>

<body>

  <div class="top-bar">
    <h1>Geospatial Health Broadcast</h1>
    <p>Patient Education & Public Health Awareness — Geo-mapped Clinics</p>
  </div>

  <!-- MAP CONTAINER -->
  <div id="map"></div>

  <!-- MAP + MARKERS (SAFE DEFAULT MARKERS) -->
  <script>
    window.onload = function () {

      // Initialize Map
      var map = new MapmyIndia.Map("map", {
        center: [22.0, 80.0],
        zoom: 5
      });

      // Clinic data (sample – you can expand to 75+ later)
      var clinics = [
        { lat: 12.9716, lng: 77.5946, city: "Bengaluru", status: "Active" },
        {
  lat: 19.0760,
  lng: 72.8777,
  city: "Mumbai",
  doctor: "Dr. Shashank Joshi",
  clinic: "Dr Shashank Joshi Clinic",
  status: "Active",
  radioUrl: "https://radio4publichealth.com/dr-shashank-joshi"
},
,
        { lat: 22.5726, lng: 88.3639, city: "Kolkata", status: "Active" },
        { lat: 17.3850, lng: 78.4867, city: "Hyderabad", status: "Non-Active" },
        { lat: 8.5241,  lng: 76.9366, city: "Trivandrum", status: "Active" }
      ];

      // Add markers (default Leaflet markers – no icons = no blank boxes)
      clinics.forEach(function (c) {
        L.marker([c.lat, c.lng])
          .addTo(map)
          .bindPopup(
  "<strong>" + c.city + "</strong><br>" +
  (c.doctor ? "Doctor: " + c.doctor + "<br>" : "") +
  (c.clinic ? "Clinic: " + c.clinic + "<br>" : "") +
  "Status: " + c.status + "<br>" +
  (c.radioUrl ? "<a href='" + c.radioUrl + "' target='_blank'>▶ Visit Doctor Radio Page</a><br>" : "") +
  "Geospatial Health Broadcast"
);

      });

    };
  </script>

</body>
</html>
