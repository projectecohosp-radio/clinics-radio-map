<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Geospatial Health Broadcast</title>

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
    }

    .top-bar {
      padding: 10px 14px;
      background: #ffffff;
      border-bottom: 1px solid #ddd;
    }

    .top-bar h1 {
      margin: 0;
      font-size: 18px;
      color: #16325c;
    }

    .top-bar p {
      margin: 4px 0 0;
      font-size: 13px;
      color: #555;
    }

    #map {
      width: 100%;
      height: calc(100% - 60px);
    }

    /* âœ… Doctor name label styling */
    .doctor-label {
      background: rgba(255, 255, 255, 0.95);
      border: 1px solid #bbb;
      border-radius: 4px;
      padding: 2px 6px;
      font-size: 11px;
      font-weight: 600;
      color: #1a3c6e;
      white-space: nowrap;
      box-shadow: 0 1px 3px rgba(0,0,0,0.25);
    }
  </style>

  <!-- âœ… MapmyIndia JavaScript SDK (India-compliant) -->
  <!-- ðŸ”´ REPLACE API KEY BELOW -->
  <script src="https://apis.mapmyindia.com/advancedmaps/v1/d5e4f2a0e993e99f66f292fe796c6769/map_load?v=1.5"></script>
</head>

<body>

  <div class="top-bar">
    <h1>Geospatial Health Broadcast</h1>
    <p>Patient Education & Public Health Awareness â€” Doctor Radio Network</p>
  </div>

  <!-- MAP -->
  <div id="map"></div>

  <script>
    window.onload = function () {

      // Initialize map (India center)
      var map = new MapmyIndia.Map("map", {
        center: [22.0, 80.0],
        zoom: 5
      });

      // Doctor data (sample â€“ add as many as you want)
      var doctors = [
        {
          lat: 19.0760,
          lng: 72.8777,
          label: "Dr Shashank Joshi, Endocrinologist, Mumbai",
          doctor: "Dr. Shashank Joshi",
          clinic: "Dr Shashank Joshi Clinic",
          status: "Active",
          link: "#"
        },
        {
          lat: 17.3850,
          lng: 78.4867,
          label: "Dr Rohit Baijal,Diabetologist,  Hyderabad",
          doctor: "Dr. Rohit Baijal",
          clinic: "Baijal Diabetes Centre",
          status: "Active",
          link: "#"
        },
        {
          lat: 12.9716,
          lng: 77.5946,
          label: "Dr ABC, Bengaluru",
          doctor: "Dr. ABC",
          clinic: "ABC Endocrine Clinic",
          status: "Non-Active",
          link: "#"
        }
      ];

      // Add markers
      doctors.forEach(function (d) {

        var marker = L.marker([d.lat, d.lng]).addTo(map);

        // âœ… Doctor name + area visible on map
        marker.bindTooltip(
          d.label,
          {
            permanent: true,
            direction: "top",
            offset: [0, -12],
            className: "doctor-label"
          }
        );

        // âœ… Full details on click
        marker.bindPopup(
          "<b>" + d.doctor + "</b><br>" +
          "<b>Clinic:</b> " + d.clinic + "<br>" +
          "<b>Status:</b> " + d.status + "<br>" +
          "<a href='" + d.link + "' target='_blank'>â–¶ Visit Doctor Radio Page</a><br><br>" +
          "Geospatial Health Broadcast"
        );
      });

    };
  </script>

</body>
</html>
