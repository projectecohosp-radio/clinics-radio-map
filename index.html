<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Geospatial Health Broadcast</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- MapmyIndia SDK (REPLACE YOUR_API_KEY_HERE) -->
  <script src="https://apis.mapmyindia.com/advancedmaps/v1/d5e4f2a0e993e99f66f292fe796c6769/map_load?v=1.5"></script>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Arial, Helvetica, sans-serif;
    }

    /* Top Header */
    .top-bar {
      height: 64px;
      background: #0b4f8a;
      color: #ffffff;
      padding: 10px 16px;
      box-sizing: border-box;
    }

    .top-bar h1 {
      margin: 0;
      font-size: 20px;
    }

    .top-bar p {
      margin: 2px 0 0;
      font-size: 13px;
      opacity: 0.9;
    }

    /* Map container */
    #map {
      width: 100%;
      height: calc(100vh - 64px);
    }

    /* Doctor name label near pin */
    .doctor-label {
      background: #ffffff;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.3);
      white-space: nowrap;
    }
  </style>
</head>

<body>

  <!-- HEADER -->
  <div class="top-bar">
    <h1>Geospatial Health Broadcast</h1>
    <p>Patient Education & Public Health Awareness</p>
  </div>

  <!-- MAP -->
  <div id="map"></div>

  <script>
    window.onload = function () {

      /* Initialize map */
      var map = new MapmyIndia.Map("map", {
        center: [22.5, 80.5],   // India center
        zoom: 5
      });

      /* Mobile centering fix */
      setTimeout(function () {
        map.invalidateSize();
        map.setView([22.5, 80.5], 5);
      }, 500);

      /* Doctor data */
      var doctors = [
        {
          name: "Dr Shashank Joshi",
          speciality: "Endocrinologist",
          city: "Bandra, Mumbai",
          lat: 19.0596,
          lng: 72.8295
        },
        {
          name: "Dr Rohit Baijal",
          speciality: "Diabetologist",
          city: "Hyderabad",
          lat: 17.3850,
          lng: 78.4867
        },
        {
          name: "Dr XYZ",
          speciality: "Physician",
          city: "Bengaluru",
          lat: 12.9716,
          lng: 77.5946
        }
      ];

      /* Add markers */
      doctors.forEach(function (doc) {

        var marker = L.marker([doc.lat, doc.lng]).addTo(map);

        /* Always-visible label (name only) */
        marker.bindTooltip(
          doc.name + ", " + doc.city,
          {
            permanent: true,
            direction: "right",
            offset: [10, 0],
            className: "doctor-label"
          }
        );

        /* Click popup (full details) */
        marker.bindPopup(
          "<strong>" + doc.name + "</strong><br>" +
          doc.speciality + "<br>" +
          doc.city + "<br><br>" +
          "<em>Geospatial Health Broadcast</em>"
        );
      });
    };
  </script>

</body>
</html>
